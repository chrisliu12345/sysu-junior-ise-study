## 满足能耗约束下，最小化时延

![image-20200307164331461](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200307164331461.png)

论文给出的公式如上，$x_i$为0-1变量，代表计算卸载的决策，决定任务是在本地执行还是边缘端执行

约束条件(8)，约束本地计算的耗能要小于电池余量

约束条件(9)，约束传输边缘计算任务的耗能要小于电池余量

约束条件(10)，约束执行计算任务的边缘节点是提供服务的节点

约束条件(11)，约束所有计算资源的分配不能超过该节点的计算资源总和

## 满足计算任务时延需求前提下，最小化能耗

### 变量解释

$X_{m,i}$代表第m个计算任务的第i个子任务，$F T_{m, i}$表示本地执行完成的结束时间

$T_{m,i,k}$是第m个计算任务的第i个子任务在第k个核心的耗时，其耗能为$E_{m,i,k}$

$RT_{m,i}$为第m个计算任务的第i个子任务的就绪时间

$F T_{m, i}^{\operatorname{send}}, F T_{m, i}^{e x e}, F T_{m, i}^{r c v}$分别代表边缘计算时，发送数据，执行任务，接受数据结束时的时间

耗能为传输和接受时的耗电，用$E_{m,i}^c$表示



优化目标及约束条件如下

![image-20200308173843215](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308173843215.png)

$T_m$的计算过程如下，对子任务$X_{m,i}$来说，如果其在本地执行，其就绪时间为前置任务完成的时间

![image-20200308164924372](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308164924372.png)

子任务$X_{m,i}$的运行时间为，$AT_{m,i,k}$为处理器空闲的时间

![image-20200308165002174](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165002174.png)

所以子任务$X_{m,i}$的结束时间为

![image-20200308165054355](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165054355.png)

在云端执行时，同理可得其结束时间如下

![image-20200308165536634](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165536634.png)

![image-20200308165549261](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165549261.png)

![image-20200308165554811](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165554811.png)

![image-20200308165611363](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165611363.png)

![image-20200308165635782](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165635782.png)

![image-20200308165621183](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308165621183.png)

所以最终$T_m$为

![image-20200308171410418](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308171410418.png)

$l_{m,i,k}$用于表示对任务的指派

![image-20200308171624423](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308171624423.png)

因为一个任务只能分配给一个核，所以有约束

![image-20200308171655784](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308171655784.png)

对于子任务的先后顺序要求，设定0-1变量$o_{i,j}$

![image-20200308172038675](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308172038675.png)

并建立如下约束保证前置任务的完成

![image-20200308172150379](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308172150379.png)

![image-20200308172212908](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308172212908.png)



## 权衡能耗和时延

优化目标及约束条件如下

![image-20200308174758562](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308174758562.png)

$\sigma$代表计算卸载的决策，p代表不同任务的发送功率，d表示任务的数据量，c表示任务的工作负载

传送速率的公式可以由下式获得

![image-20200308200422953](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308200422953.png)

则数据传输完成的时间为

![image-20200308200454171](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308200454171.png)

数据处理的时间为

![image-20200308200944644](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308200944644.png)

其能耗为

![image-20200308201351839](智科-17363092-叶茂青-分布式计算作业1.assets/image-20200308201351839.png)